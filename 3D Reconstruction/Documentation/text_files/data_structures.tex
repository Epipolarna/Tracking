In order to keep a good structure on the program and a logical separation of functionalities, several different data structures have been created. The main thought when implementing the data structures was to enable easy access to all needed data, since some data, e.g. the 3D points has to be able to both access and modify in several different steps of the pipeline.

\begin{figure}[htb]
	\centering
	\includegraphics[width=110mm]{images/data_structures_uml.png}
	\caption{\textit{UML diagram of the main data structures. A video is represented by a FrameList, containing each Frame of the video. Each such Frame contains the detected objects in that image and each object contains spatial information, a unique id and a StateSpaceModel used for the Kalman filter prediction}}
	\label{fig:UML_fig} %Skapar referens till figuren
\end{figure}



\subsubsection{PointPair, ObserverPair}
The point pair structure simply consists of two point pairs (cv::Point2d) from two different images that correspond to the same 3D point and the ObserverPair class contains one PointPair as well as pointers to the specific Cameras (see below) from which the PointPair originates. 

\subsubsection{Visible3DPoint}
This structure represents a point in 3D space. Apart from the coordinates for the point a list of all PointPairs observing it is stored as well.  \ref{fig:UML_fig}. %Figurreferens

\subsubsection{Camera}
The camera class represent a view of the 3D scene (an image). It contains information about what 3D points are visible in the image, and which image points these correspond to. Apart from this all necessary information about the camera itself is also stored here, such as internal parameters (K-matrix), rotation matrix and translation vector of the camera relative to the first camera is also stored in this class.

\subsubsection{CameraPair}
The camera pair is a data structure containing the Fundamental and Essential (F and E) matrices relating two cameras to each other. Beside this information the structure also contains pointers to each respective camera as well as vectors containing related PointPairs and pointers to corresponding 3D points.

